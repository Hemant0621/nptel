<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz App — Learning / Test</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#94a3b8;--accent:#60a5fa;--success:#16a34a;--danger:#ef4444}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin:0; background:linear-gradient(180deg,#071023 0%, #071a2b 100%); color:#e6eef8; -webkit-font-smoothing:antialiased}
    .container{max-width:900px;margin:32px auto;padding:20px}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;font-weight:700}
    h1{font-size:20px;margin:0}
    .controls{display:flex;gap:12px;flex-wrap:wrap;background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(3,7,18,0.6)}
    .control{display:flex;align-items:center;gap:8px}
    select,input[type=radio]{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px;border-radius:8px}
    label{color:var(--muted);font-size:14px}
    button.primary{background:linear-gradient(90deg,var(--accent),#7c3aed);border:none;padding:10px 14px;border-radius:10px;color:#041024;font-weight:600;cursor:pointer}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:20px;border-radius:12px;margin-top:18px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .meta .score{font-weight:700}
    .question{font-size:18px;margin:12px 0}
    .options{display:grid;grid-template-columns:1fr;gap:10px}
    .opt{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);cursor:pointer}
    .opt:hover{transform:translateY(-2px);transition:all .12s}
    .opt.disabled{opacity:0.6;cursor:default}
    .opt.correct{border-color:rgba(22,163,74,0.9);background:linear-gradient(90deg, rgba(22,163,74,0.06), rgba(22,163,74,0.02))}
    .opt.wrong{border-color:rgba(239,68,68,0.9);background:linear-gradient(90deg, rgba(239,68,68,0.04), rgba(239,68,68,0.01))}
    .controls-row{display:flex;gap:10px;align-items:center;margin-top:14px}
    .progress{height:10px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;flex:1}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#7c3aed);width:0%}
    .muted{color:var(--muted);font-size:13px}
    .footer-note{margin-top:12px;color:var(--muted);font-size:13px}
    .result{padding:16px;border-radius:10px;background:linear-gradient(90deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));text-align:center}
    .small{font-size:13px;color:var(--muted)}
    @media (max-width:700px){.meta{flex-direction:column;align-items:flex-start;gap:8px}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">QZ</div>
      <div>
        <h1>Quiz App — Learning & Test</h1>
        <div class="small">Pick mode → pick week / overall → start</div>
      </div>
    </header>

    <div class="controls card">
      <div class="control">
        <label for="mode">Mode</label>
        <select id="mode">
          <option value="learning">Learning</option>
          <option value="test">Test</option>
        </select>
      </div>

      <div class="control">
        <label for="week">Week</label>
        <select id="week">
          <option value="all">All Weeks (Overall)</option>
        </select>
      </div>

      <div class="control">
        <label style="opacity:0">start</label>
        <button id="startBtn" class="primary">Start</button>
      </div>

      <div style="margin-left:auto;display:flex;align-items:center;gap:12px">
        <div class="muted">Saved progress:</div>
        <button id="clearSave" title="Clear saved progress" style="background:#12212b;border:none;padding:8px;border-radius:8px;color:var(--muted);cursor:pointer">Clear</button>
      </div>
    </div>

    <div id="quizArea" class="card" style="display:none">
      <div class="meta">
        <div>
          <div class="small">Mode: <span id="modeLabel"></span> • Week: <span id="weekLabel"></span></div>
          <div class="score">Score: <span id="score">0</span>/<span id="total">0</span></div>
        </div>
        <div class="small">Question <span id="qIndex">0</span> of <span id="qTotal">0</span></div>
      </div>

      <div id="content">
        <!-- question card will render here -->
      </div>

      <div class="controls-row">
        <div class="progress" aria-hidden><i id="progressBar"></i></div>
        <button id="nextBtn" class="primary" disabled>Next</button>
      </div>

      <div class="footer-note">Tip: In Learning mode questions keep original order. In Test both questions and options are randomized.</div>
    </div>

    <div id="endArea" class="card" style="display:none">
      <div class="result">
        <h2 id="endTitle">Results</h2>
        <p id="endScore" style="font-size:18px;margin:8px 0"></p>
        <div id="endBreakdown" class="small"></div>
        <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
          <button id="retryBtn" class="primary">Retry same</button>
          <button id="homeBtn" style="background:transparent;border:1px solid rgba(255,255,255,0.06);padding:10px;border-radius:8px;color:var(--muted);cursor:pointer">Back</button>
        </div>
      </div>
    </div>

  </div>

  <script>
    // --------- QUESTIONS DATA ---------
    // Edit this 'questions' array to add your own questions or import data.
    // Each question object: {id, week, q, opts: [{id,text}], answer: optionId, explanation}

    const questions = [
  // Week 0
  {id:1, week:0, q:"What is Psychology?", opts:[{id:'A',text:'A Science subject'},{id:'B',text:'Is objective perception'},{id:'C',text:'An art of living'},{id:'D',text:'A thought process'},{id:'E',text:'A study of cognitive processes & behavior'}], answer:'E', explanation:'Psychology is the study of cognitive processes and behavior.'},
  {id:2, week:0, q:"A broad field of study that explores a variety of questions about thoughts, feelings and actions is?", opts:[{id:'A',text:'Society'},{id:'B',text:'Globalization'},{id:'C',text:'Psychology'},{id:'D',text:'Social Science'},{id:'E',text:'Human Development'}], answer:'C', explanation:'Psychology explores thoughts, feelings, and actions.'},
  {id:3, week:0, q:"A systematic assessment that provides information on political views, consumer buying habits and many other topics is called?", opts:[{id:'A',text:'Standardized test'},{id:'B',text:'Projects'},{id:'C',text:'Experiments'},{id:'D',text:'Survey'},{id:'E',text:'Psychological tests'}], answer:'D', explanation:'A survey systematically assesses various topics.'},
  {id:4, week:0, q:"The word Psyche means?", opts:[{id:'A',text:'Body or physique'},{id:'B',text:'Mind or soul'},{id:'C',text:'Science & spirituality'},{id:'D',text:'Mental health'},{id:'E',text:'Neuropsychology'}], answer:'B', explanation:'Psyche means mind or soul in Greek.'},
  {id:5, week:0, q:"Who established psychology laboratory in Germany?", opts:[{id:'A',text:'B.F. Skinner'},{id:'B',text:'J. Thorndike'},{id:'C',text:'Sigmund Freud'},{id:'D',text:'David Kolb'},{id:'E',text:'Wilhelm Wundt'}], answer:'E', explanation:'Wilhelm Wundt established the first psychology lab in Germany.'},
  {id:6, week:0, q:"To help people to function effectively and fulfill their own unique potential is the aim of?", opts:[{id:'A',text:'Humanistic psychology'},{id:'B',text:'Social Psychiatry'},{id:'C',text:'Philosophy'},{id:'D',text:'Development studies'},{id:'E',text:'Sustainable development'}], answer:'A', explanation:'Humanistic psychology aims to help people fulfill their potential.'},
  {id:7, week:0, q:"Behaviorists use a learning process to change abnormal behavior is called?", opts:[{id:'A',text:'Rationalism'},{id:'B',text:'Experiential intervention'},{id:'C',text:'Gestalt mechanism'},{id:'D',text:'Hypotheses verification'},{id:'E',text:'Conditioning'}], answer:'E', explanation:'Behaviorists use conditioning to change behavior.'},
  {id:8, week:0, q:"The study of changes in behavior during life time is called?", opts:[{id:'A',text:'Behaviorism'},{id:'B',text:'Individual difference'},{id:'C',text:'Developmental Psychology'},{id:'D',text:'Maturational theory'},{id:'E',text:'Genetics or Heredity'}], answer:'C', explanation:'Developmental Psychology studies behavioral changes over the lifespan.'},
  {id:9, week:0, q:"The study of differences and similarities in the behavior of animals of different species is called?", opts:[{id:'A',text:'Sociology'},{id:'B',text:'Social work'},{id:'C',text:'Rehabilitation studies'},{id:'D',text:'Comparative Psychology'},{id:'E',text:'Cultural Psychology'}], answer:'D', explanation:'Comparative Psychology studies animal behavior across species.'},

  // Week 1
  {id:10, week:1, q:"Which of the following is true regarding learning in psychology?", opts:[{id:'A',text:'The psychology of learning focuses on how people learn and how they interact with the environments in which they have not learnt'},{id:'B',text:'Learning does not involve any changes in the organism'},{id:'C',text:'Learning is a relatively temporary change in behavior'},{id:'D',text:'none of the given'}], answer:'D', explanation:'None of the given options correctly describe learning in psychology.'},
  {id:11, week:1, q:"In order to say that learning has occurred, a/an ___ must occur during the lifetime of the organism.", opts:[{id:'A',text:'hidden change in behavior'},{id:'B',text:'small change in personality'},{id:'C',text:'visible change in emotions'},{id:'D',text:'observable change in behavior'}], answer:'D', explanation:'Learning requires an observable change in behavior.'},
  {id:12, week:1, q:"Learning changes the ___ through the process of continuous interactions between the learner and the external environment.", opts:[{id:'A',text:'physical structure of the brain'},{id:'B',text:'chemical structure of neurons'},{id:'C',text:'physical structure of the heart'},{id:'D',text:'chemical structure of the spinal cord'}], answer:'A', explanation:'Learning physically changes the brain structure.'},
  {id:13, week:1, q:"Watson, one of the first psychologists to study learning and behavior is known for the ___.", opts:[{id:'A',text:'Little Albert experiment'},{id:'B',text:'Little John experiment'},{id:'C',text:'Little Robert experiment'},{id:'D',text:'Little Johnny experiment'}], answer:'A', explanation:'Watson conducted the famous Little Albert experiment.'},
  {id:14, week:1, q:"Which of the following is not explored and described by the psychology of learning?", opts:[{id:'A',text:'principles of motivation'},{id:'B',text:'principles of forgetting'},{id:'C',text:'principles of genetic disorders'},{id:'D',text:'principles of memory'},{id:'E',text:'principles of retention'}], answer:'C', explanation:'Genetic disorders are not a focus of learning psychology.'},
  {id:15, week:1, q:"The state of ___ may be valuable at the start of a learning experience.", opts:[{id:'A',text:'conscious incompetence'},{id:'B',text:'unconscious incompetence'},{id:'C',text:'conscious over-competence'},{id:'D',text:'unconscious over-competence'}], answer:'A', explanation:'Conscious incompetence helps learners recognize what they need to learn.'},
  {id:16, week:1, q:"___ is the decrease in the response that an organism gives to a stimulus to which it is exposed in numerous trials or occasions.", opts:[{id:'A',text:'Habituation'},{id:'B',text:'Sensitization'},{id:'C',text:'Forgetting'},{id:'D',text:'Meaningful learning'}], answer:'A', explanation:'Habituation is the decrease in response to repeated stimuli.'},
  {id:17, week:1, q:"Cooperative learning is shaped by three crucial elements. Which of the following is one of them?", opts:[{id:'A',text:'formation of heterogeneous groups'},{id:'B',text:'positive interdependence'},{id:'C',text:'individual responsibility'},{id:'D',text:'all of the given'}], answer:'D', explanation:'All elements are crucial to cooperative learning.'},
  {id:18, week:1, q:"Which of the following psychologists is an important contributor to the concept of observational learning?", opts:[{id:'A',text:'Watson'},{id:'B',text:'Dewey'},{id:'C',text:'Bruner'},{id:'D',text:'Bandura'}], answer:'D', explanation:'Bandura is known for his work on observational learning.'},
  {id:19, week:1, q:"Which of the following is not considered a pioneer of the behaviorism school of thought in psychology?", opts:[{id:'A',text:'Watson'},{id:'B',text:'Skinner'},{id:'C',text:'Freud'},{id:'D',text:'Pavlov'}], answer:'C', explanation:'Freud focused on psychoanalysis, not behaviorism.'},

  // Week 2
  {id:20, week:2, q:"___ is known as the father of modern psychology.", opts:[{id:'A',text:'Sigmund Freud'},{id:'B',text:'Wilhelm Wundt'},{id:'C',text:'John Watson'},{id:'D',text:'Lev Vygotsky'}], answer:'B', explanation:'Wilhelm Wundt established the first experimental psychology lab.'},
  {id:21, week:2, q:"Cognitivists objected to behaviorists because they felt that behaviorists ignored the important role of ___.", opts:[{id:'A',text:'genetics'},{id:'B',text:'emotions'},{id:'C',text:'thinking'},{id:'D',text:'stimulus reaction'}], answer:'C', explanation:'Cognitivists emphasized the importance of thinking processes.'},
  {id:22, week:2, q:"___ is viewed as the mainstream for all research on learning designs.", opts:[{id:'A',text:'Psychoanalysis'},{id:'B',text:'Positive psychology'},{id:'C',text:'Cognitivism'},{id:'D',text:'Evolutionary psychology'}], answer:'C', explanation:'Cognitivism is the mainstream approach to learning research.'},
  {id:23, week:2, q:"___ is a perspective in psychology focusing on the belief that human consciousness cannot be broken down into its elements and is based on the concept of a whole.", opts:[{id:'A',text:'Cognitivism'},{id:'B',text:'Behaviorism'},{id:'C',text:'Gestalt psychology'},{id:'D',text:'Positive psychology'}], answer:'C', explanation:'Gestalt psychology focuses on the whole rather than parts.'},
  {id:24, week:2, q:"Theory of multiple intelligences is given by ___.", opts:[{id:'A',text:'Howard Gardner'},{id:'B',text:'Edward C. Tolman'},{id:'C',text:'German Gestalt'},{id:'D',text:'Robert J. Sternberg'}], answer:'A', explanation:'Howard Gardner developed the theory of multiple intelligences.'},
  {id:25, week:2, q:"The general intelligence factor, also known as g, is what intelligence tests typically measure and refers only to ___ intelligence.", opts:[{id:'A',text:'academic'},{id:'B',text:'practical'},{id:'C',text:'linguistic'},{id:'D',text:'kinesthetic'}], answer:'A', explanation:'The g factor typically measures academic intelligence.'},
  {id:26, week:2, q:"Cognitive evaluation for planning, attention, simultaneous, and successive processing of individuals can be done through CAS based on PASS theory. CAS here stands for ___.", opts:[{id:'A',text:'Cognitive Achievement System'},{id:'B',text:'Cognitive Ability System'},{id:'C',text:'Cognitive Appraisal System'},{id:'D',text:'Cognitive Assessment System'}], answer:'D', explanation:'CAS stands for Cognitive Assessment System.'},
  {id:27, week:2, q:"BBL is a new science that shapes the learning process and is an approach that is based on the structure and function of the human brain. BBL stands for ___.", opts:[{id:'A',text:'Biological based learning'},{id:'B',text:'Brain based learning'},{id:'C',text:'Biological battery learning'},{id:'D',text:'Brain biology learning'}], answer:'B', explanation:'BBL stands for Brain Based Learning.'},
  {id:28, week:2, q:"Gagne's Conditions of Learning is also known as ___ Events of Instruction.", opts:[{id:'A',text:'nine'},{id:'B',text:'five'},{id:'C',text:'ten'},{id:'D',text:'seven'}], answer:'A', explanation:'Gagne identified nine events of instruction.'},
  {id:29, week:2, q:"Which of the following is not a type of constructivism?", opts:[{id:'A',text:'biological'},{id:'B',text:'cognitive'},{id:'C',text:'social'},{id:'D',text:'radical'}], answer:'A', explanation:'Biological is not a recognized type of constructivism.'},

  // Week 3
  {id:30, week:3, q:"Which of the following is not one of the three major processes involved in memory?", opts:[{id:'A',text:'encoding'},{id:'B',text:'retrieval'},{id:'C',text:'storage'},{id:'D',text:'imagination'}], answer:'D', explanation:'The three major memory processes are encoding, storage, and retrieval.'},
  {id:31, week:3, q:"___ refers to changing information into a usable form.", opts:[{id:'A',text:'Storage'},{id:'B',text:'Recall'},{id:'C',text:'Encoding'},{id:'D',text:'Recollection'},{id:'E',text:'Forgetting'}], answer:'C', explanation:'Encoding converts information into a usable memory form.'},
  {id:32, week:3, q:"___ refers to a range of mental processes relating to the acquisition, storage, manipulation and retrieval of information.", opts:[{id:'A',text:'Cognition'},{id:'B',text:'Construction'},{id:'C',text:'Encoding'},{id:'D',text:'Thinking'}], answer:'A', explanation:'Cognition encompasses all mental information processes.'},
  {id:33, week:3, q:"Which of the following is a challenge faced by people with social cognition deficits?", opts:[{id:'A',text:'talking too much to people'},{id:'B',text:'responding to well to people'},{id:'C',text:'difficulty in reading facial expressions'},{id:'D',text:'difficulty in getting good academic scores'}], answer:'C', explanation:'Social cognition deficits impair facial expression reading.'},
  {id:34, week:3, q:"Which of the following is not true about the assumptions underlying the Information Processing View of Learning?", opts:[{id:'A',text:'Information processing is analogous to computer processing'},{id:'B',text:'The human information processing system is interactive'},{id:'C',text:'There is no limit on how much information can be processed at each stage'},{id:'D',text:'Information is processed in steps'}], answer:'C', explanation:'Information processing has limits at each stage.'},
  {id:35, week:3, q:"___ prevents the quick disappearance of information from short term memory", opts:[{id:'A',text:'Rehearsal'},{id:'B',text:'Encoding'},{id:'C',text:'Retrieval'},{id:'D',text:'None of the given'}], answer:'A', explanation:'Rehearsal helps maintain information in short-term memory.'},
  {id:36, week:3, q:"The Multicomponent Model of Working Memory is largely attributed to the work by ___", opts:[{id:'A',text:'Atkinson & Shiffrin'},{id:'B',text:'Baddeley'},{id:'C',text:'Piaget'},{id:'D',text:'Craik & Lockhart'}], answer:'B', explanation:'Baddeley developed the multicomponent working memory model.'},
  {id:37, week:3, q:"___ memory refers to the events that can be reported from a person's life.", opts:[{id:'A',text:'Episodic'},{id:'B',text:'Semantic'},{id:'C',text:'Procedural'},{id:'D',text:'None of the given'}], answer:'A', explanation:'Episodic memory stores personal life events.'},
  {id:38, week:3, q:"The memory capacity depends on which of the following?", opts:[{id:'A',text:'complexity of the synapses'},{id:'B',text:'spatial and temporal correlations between memories'},{id:'C',text:'specific way memories are retrieved'},{id:'D',text:'all of the given'}], answer:'D', explanation:'Memory capacity depends on multiple neural factors.'},
  {id:39, week:3, q:"Which of the following is not one of the three measurable dimensions of cognitive load?", opts:[{id:'A',text:'mental effort'},{id:'B',text:'mental load'},{id:'C',text:'physical effort'},{id:'D',text:'performance'}], answer:'C', explanation:'Physical effort is not a dimension of cognitive load.'},

  // Week 4
  {id:40, week:4, q:"The three main types of thinking in psychology include the following except ___.", opts:[{id:'A',text:'symbolic'},{id:'B',text:'creative'},{id:'C',text:'divergent'},{id:'D',text:'convergent'}], answer:'D', explanation:'The three main types are symbolic, creative, and divergent thinking.'},
  {id:41, week:4, q:"Young children engaging in imaginative play often engage in ___ thinking.", opts:[{id:'A',text:'creative'},{id:'B',text:'divergent'},{id:'C',text:'symbolic'},{id:'D',text:'convergent'}], answer:'C', explanation:'Imaginative play involves symbolic thinking.'},
  {id:42, week:4, q:"Which of the following is a way in which we think?", opts:[{id:'A',text:'in verbal symbols'},{id:'B',text:'in mathematical symbols'},{id:'C',text:'in gestures and movements'},{id:'D',text:'all of the given'}], answer:'D', explanation:'We think through multiple modalities.'},
  {id:43, week:4, q:"People experience the ___ experience when they find the solution to a problem suddenly that had been in their mind for hours or days, late.", opts:[{id:'A',text:'oh no'},{id:'B',text:'wow'},{id:'C',text:'aha'},{id:'D',text:'none of the given'}], answer:'C', explanation:'The aha moment represents sudden insight.'},
  {id:44, week:4, q:"___ knowledge refers to knowledge of terminology and specific details.", opts:[{id:'A',text:'factual'},{id:'B',text:'conceptual'},{id:'C',text:'procedural'},{id:'D',text:'metacognitive'}], answer:'A', explanation:'Factual knowledge encompasses terminology and details.'},
  {id:45, week:4, q:"Which of the following is not true about metacognition?", opts:[{id:'A',text:'allows people to be dependent on others for their learning'},{id:'B',text:'often referred to as thinking about thinking'},{id:'C',text:'is crucial for efficient independent learning because it fosters self-reflection'},{id:'D',text:'is a regulatory system that helps a person understand and control his or her own cognitive performance'},{id:'E',text:'Metacognition'}], answer:'A', explanation:'Metacognition promotes independent, not dependent learning.'},
  {id:46, week:4, q:"Which of the following is not an effective way to develop reflective thinking?", opts:[{id:'A',text:'asking questions'},{id:'B',text:'self-questioning'},{id:'C',text:'negotiated learning'},{id:'D',text:'avoiding reflective discussions'}], answer:'D', explanation:'Reflective discussions are essential for developing reflective thinking.'},
  {id:47, week:4, q:"Which of the following is not true about creative thinking?", opts:[{id:'A',text:'It is the ability to consider something in a new way'},{id:'B',text:'It is not a skill anybody can develop'},{id:'C',text:'It is the process of nurturing our imagination'},{id:'D',text:'It is all about developing innovative solutions to problems'},{id:'E',text:'It requires a compilation of analytical, problem-solving, organizational and communication skills'}], answer:'B', explanation:'Creative thinking is a skill that can be developed.'},
  {id:48, week:4, q:"The ___ stage of the creative thinking process refers to the eureka moment.", opts:[{id:'A',text:'insight'},{id:'B',text:'incubation'},{id:'C',text:'evaluation'},{id:'D',text:'preparation'},{id:'E',text:'elaboration'}], answer:'A', explanation:'Insight represents the eureka moment in creative thinking.'},
  {id:49, week:4, q:"In a concept map, two nodes connected with a labeled arrow are called a ___.", opts:[{id:'A',text:'preposition'},{id:'B',text:'nodal link'},{id:'C',text:'schema'},{id:'D',text:'proposition'}], answer:'D', explanation:'A proposition is two connected nodes in a concept map.'},

  // Week 5
  {id:50, week:5, q:"Which of the following is not a causal factor for extrinsic motivation?", opts:[{id:'A',text:'rewards'},{id:'B',text:'social pressure'},{id:'C',text:'curiosity'},{id:'D',text:'financial gain'},{id:'E',text:'punishment'}], answer:'C', explanation:'Curiosity is an intrinsic, not extrinsic motivator.'},
  {id:51, week:5, q:"___ refers to realizing the value of developing a skill/behavior.", opts:[{id:'A',text:'Amotivation'},{id:'B',text:'Identified regulation'},{id:'C',text:'Introjected regulation'},{id:'D',text:'Motivational learning'}], answer:'B', explanation:'Identified regulation involves recognizing value in learning.'},
  {id:52, week:5, q:"Drive theory is a psychological concept that attempts to explain why and how people behave in the ways they do. It is given by ___.", opts:[{id:'A',text:'Murray'},{id:'B',text:'Hull'},{id:'C',text:'Atkinson'},{id:'D',text:'Zajonc'}], answer:'B', explanation:'Hull developed drive theory.'},
  {id:53, week:5, q:"___ theory suggests that people are motivated to take action in order to receive a reward and is based on the idea of operant conditioning.", opts:[{id:'A',text:'Incentive'},{id:'B',text:'Arousal'},{id:'C',text:'Goal setting'},{id:'D',text:'None of the given'}], answer:'A', explanation:'Incentive theory links motivation to rewards.'},
  {id:54, week:5, q:"The Yerkes Dodson law gives ___ relationship between arousal and performance.", opts:[{id:'A',text:'inverted U shaped'},{id:'B',text:'linear'},{id:'C',text:'no'},{id:'D',text:'parabolic'}], answer:'A', explanation:'The Yerkes-Dodson law shows an inverted U relationship.'},
  {id:55, week:5, q:"The expectancy theory is based on the assumption that ___.", opts:[{id:'A',text:'our behavior is based on making a conscious choice from a set of possible alternative behaviors'},{id:'B',text:'individuals are motivated to seek out stimulation when they have low levels of arousal, but will become bored and unmotivated when they become too highly aroused'},{id:'C',text:'biological needs produce unpleasant states of arousal which people seek to reduce'},{id:'D',text:'none of the given'}], answer:'A', explanation:'Expectancy theory emphasizes conscious behavioral choice.'},
  {id:56, week:5, q:"Valence, or the perceived value of reward, would have ___ value if one wants to avoid that reward.", opts:[{id:'A',text:'one'},{id:'B',text:'zero'},{id:'C',text:'positive'},{id:'D',text:'negative'}], answer:'D', explanation:'Negative valence indicates avoidance motivation.'},
  {id:57, week:5, q:"Which of the following is not true about Maslow's need hierarchy?", opts:[{id:'A',text:'Needs lower down in the hierarchy must be satisfied before individuals can attend to higher needs'},{id:'B',text:'Safety needs lie at the bottom of the pyramid'},{id:'C',text:'Deficiency needs are concerned with basic survival'},{id:'D',text:'Growth needs are more psychological needs'},{id:'E',text:'Motivation is seen as being not just concerned with tension reduction and survival but also with human growth and development'}], answer:'B', explanation:'Physiological needs, not safety needs, are at the bottom.'},
  {id:58, week:5, q:"Self-Determination Theory differentiates between ___ and ___ motivation types.", opts:[{id:'A',text:'autonomous and controlled'},{id:'B',text:'autonomous and intrinsic'},{id:'C',text:'controlled and extrinsic'},{id:'D',text:'introjected and extrinsic'},{id:'E',text:'introjected and intrinsic'}], answer:'A', explanation:'SDT distinguishes autonomous and controlled motivation.'},
  {id:59, week:5, q:"In achievement motivation, the motive to avoid failure often consists of ___.", opts:[{id:'A',text:'worries about the consequences of failing'},{id:'B',text:'self-criticism'},{id:'C',text:'accelerated heart rate'},{id:'D',text:'all of the given'}], answer:'D', explanation:'Failure avoidance includes all these elements.'},

  // Week 6
  {id:60, week:6, q:"Daniel Goleman's work in emotional intelligence (EI) has outlined ___ main areas of this intelligence.", opts:[{id:'A',text:'three'},{id:'B',text:'four'},{id:'C',text:'five'},{id:'D',text:'six'}], answer:'C', explanation:'Goleman identified five main areas of emotional intelligence.'},
  {id:61, week:6, q:"Which of the following statements is not true?", opts:[{id:'A',text:'Experts even suggested that emotional intelligence/ EQ, is more important than IQ/academic intelligence'},{id:'B',text:'An individual with high EI is not only aware of what emotions they are feeling but can put words to their feelings'},{id:'C',text:'Studies show that EI does not impact aspects of one\'s life like academic performance'},{id:'D',text:'Peter Salovey and John Mayer were the first to develop a psychological theory of emotional intelligence'}], answer:'C', explanation:'EI does impact academic and other life areas.'},
  {id:62, week:6, q:"___ refers to how tuned to the emotions of others a person is.", opts:[{id:'A',text:'Empathy'},{id:'B',text:'Motivation'},{id:'C',text:'Emotional literacy'},{id:'D',text:'Self regulation'}], answer:'A', explanation:'Empathy is being attuned to others emotions.'},
  {id:63, week:6, q:"The following are advantages of developing emotional intelligence, except", opts:[{id:'A',text:'Being able to accept criticism and responsibility'},{id:'B',text:'Knowing why we do the things we do'},{id:'C',text:'Being able to say no when we need to'},{id:'D',text:'Being able to hide our feelings from others'}], answer:'D', explanation:'EI involves expressing, not hiding feelings appropriately.'},
  {id:64, week:6, q:"The Pyramid of Emotional Intelligence is also known as the ___ layer model.", opts:[{id:'A',text:'nine'},{id:'B',text:'five'},{id:'C',text:'seven'},{id:'D',text:'eleven'}], answer:'A', explanation:'The EI pyramid has nine layers.'},
  {id:65, week:6, q:"EI can be developed at any stage of life through self-effort & training.", opts:[{id:'A',text:'True'},{id:'B',text:'False'}], answer:'A', explanation:'Emotional intelligence can be developed at any age.'},
  {id:66, week:6, q:"When someone engages in___, they can regulate their emotions to ensure that others feel more comfortable.", opts:[{id:'A',text:'emotional exhaustion'},{id:'B',text:'emotional literacy'},{id:'C',text:'empathy'},{id:'D',text:'emotional labor'}], answer:'D', explanation:'Emotional labor involves regulating emotions for others comfort.'},
  {id:67, week:6, q:"The management of emotions is ___.", opts:[{id:'A',text:'a private act'},{id:'B',text:'influenced by cultural and social norms'},{id:'C',text:'done by actively shaping and directing feelings'},{id:'D',text:'all of the given'}], answer:'D', explanation:'Emotion management involves all these aspects.'},
  {id:68, week:6, q:"___ is seen when workers change their outward emotional expressions but do not attempt to feel the emotions that they are displaying.", opts:[{id:'A',text:'deep acting'},{id:'B',text:'emotional contagion'},{id:'C',text:'surface acting'},{id:'D',text:'emotional literacy'}], answer:'C', explanation:'Surface acting changes expression without internal change.'},
  {id:69, week:6, q:"The concept of emotional contagion can be linked to biological basis of ___.", opts:[{id:'A',text:'emotional neurons'},{id:'B',text:'mirror neurons'},{id:'C',text:'contagious neurons'},{id:'D',text:'None of the given'}], answer:'B', explanation:'Mirror neurons underlie emotional contagion.'},

  // Week 7
  {id:70, week:7, q:"___ defined learning as a change in human disposition or capacity that persists over a period of time and is not simply ascribable to processes of growth.", opts:[{id:'A',text:'Bloom'},{id:'B',text:'Dewey'},{id:'C',text:'Gagne'},{id:'D',text:'Kolb'}], answer:'C', explanation:'Gagne provided this definition of learning.'},
  {id:71, week:7, q:"The principles of contiguity and reinforcement are central to explaining the learning process in the ___ orientation to learning.", opts:[{id:'A',text:'Cognitive'},{id:'B',text:'Humanistic'},{id:'C',text:'Social and social-constructivist'},{id:'D',text:'Behaviorist'}], answer:'D', explanation:'Behaviorist orientation emphasizes contiguity and reinforcement.'},
  {id:72, week:7, q:"Which of the following is not true about humanistic orientations to learning?", opts:[{id:'A',text:'It has a quality of personal involvement'},{id:'B',text:'It is self-initiated'},{id:'C',text:'It is pervasive'},{id:'D',text:'The locus of evaluation resides definitely outside the learner'}], answer:'D', explanation:'In humanistic learning, evaluation is internal to the learner.'},
  {id:73, week:7, q:"The concept of situated learning is studied under which school of thought of learning theories?", opts:[{id:'A',text:'behaviorist'},{id:'B',text:'cognitive'},{id:'C',text:'humanistic'},{id:'D',text:'social'}], answer:'D', explanation:'Situated learning is part of social learning theory.'},
  {id:74, week:7, q:"Which of the following is not one of the individual variable factors affecting learning?", opts:[{id:'A',text:'ergonomics'},{id:'B',text:'interest'},{id:'C',text:'endurance'},{id:'D',text:'ego'},{id:'E',text:'perception'}], answer:'A', explanation:'Ergonomics is an environmental, not individual factor.'},
  {id:75, week:7, q:"___ learners prefer maps, graphs, diagrams and charts to learn.", opts:[{id:'A',text:'Visual'},{id:'B',text:'Solitary'},{id:'C',text:'Kinesthetic'},{id:'D',text:'Auditory'}], answer:'A', explanation:'Visual learners prefer graphical representations.'},
  {id:76, week:7, q:"___ learners search for connections, causes, patterns, and results in their learning.", opts:[{id:'A',text:'linguistic'},{id:'B',text:'kinesthetic'},{id:'C',text:'visual'},{id:'D',text:'logical'}], answer:'D', explanation:'Logical learners seek patterns and connections.'},
  {id:77, week:7, q:"Effective instruction is ___.", opts:[{id:'A',text:'interactive, generative and dynamic'},{id:'B',text:'designed to accommodate student learning needs and styles'},{id:'C',text:'guided by general pedagogical approaches'},{id:'D',text:'eclectic'},{id:'E',text:'all of the given'}], answer:'E', explanation:'Effective instruction encompasses all these qualities.'},
  {id:78, week:7, q:"___ role of the trainer consists of transmitting information about a subject to the audience.", opts:[{id:'A',text:'expert'},{id:'B',text:'instructor'},{id:'C',text:'facilitator'},{id:'D',text:'co-learner'}], answer:'A', explanation:'The expert role focuses on transmitting knowledge.'},
  {id:79, week:7, q:"Which of the following is not a component of the ADDIE model?", opts:[{id:'A',text:'analysis'},{id:'B',text:'integration'},{id:'C',text:'development'},{id:'D',text:'evaluation'}], answer:'B', explanation:'Integration is not part of the ADDIE model.'},

  // Week 8
  {id:80, week:8, q:"The word pedagogy has been derived from the Greek word pedagogue which stands for___.", opts:[{id:'A',text:'the science of learning'},{id:'B',text:'the art of observing'},{id:'C',text:'the art of teaching children'},{id:'D',text:'none of the given'}], answer:'C', explanation:'Pedagogy means the art of teaching children.'},
  {id:81, week:8, q:"Which of the following statements is not true about pedagogy?", opts:[{id:'A',text:'It assists both students and teachers in gaining an in-depth understanding of fundamental material'},{id:'B',text:'It is about suppressing responses from learners'},{id:'C',text:'It enhances the student-teacher relationship'},{id:'D',text:'It enables teachers to influence student learning with an intention to capture the attention of students'}], answer:'B', explanation:'Pedagogy encourages, not suppresses learner responses.'},
  {id:82, week:8, q:"Which of the following is not a pedagogical approach in teaching?", opts:[{id:'A',text:'reflective'},{id:'B',text:'collective'},{id:'C',text:'collaborative'},{id:'D',text:'integrative'}], answer:'B', explanation:'Collective is not a recognized pedagogical approach.'},
  {id:83, week:8, q:"___ is a form of active learning that starts by posing questions, problems or scenarios rather than simply presenting established facts.", opts:[{id:'A',text:'constructivist learning'},{id:'B',text:'passive learning'},{id:'C',text:'inquiry-based learning'},{id:'D',text:'metalearning'}], answer:'C', explanation:'Inquiry-based learning begins with questions and problems.'},
  {id:84, week:8, q:"Which of the following is a primary role of the instructor in experiential learning?", opts:[{id:'A',text:'posing problems'},{id:'B',text:'providing solutions'},{id:'C',text:'blurring boundaries'},{id:'D',text:'none of the given'}], answer:'A', explanation:'Instructors pose problems in experiential learning.'},
  {id:85, week:8, q:"The what is important? stage of the experiential learning process refers to the ___ stage", opts:[{id:'A',text:'processing'},{id:'B',text:'generalizing'},{id:'C',text:'application'},{id:'D',text:'reflecting'}], answer:'A', explanation:'Processing asks what is important.'},
  {id:86, week:8, q:"The ___ learning style as given by Kolb suggests that these individuals prefer to look at things from multiple perspectives and prefer to watch rather than do.", opts:[{id:'A',text:'Assimilating'},{id:'B',text:'Accommodating'},{id:'C',text:'Converging'},{id:'D',text:'Diverging'}], answer:'D', explanation:'Diverging learners prefer watching and multiple perspectives.'},
  {id:87, week:8, q:"The following factors influence preferred learning styles except___", opts:[{id:'A',text:'career choice'},{id:'B',text:'personality'},{id:'C',text:'educational specialization'},{id:'D',text:'genes'}], answer:'D', explanation:'Genes do not directly influence learning style preferences.'},
  {id:88, week:8, q:"Integrative learning often involves three steps. Which of the following is not one of them?", opts:[{id:'A',text:'collaboration'},{id:'B',text:'integrative enquiry'},{id:'C',text:'application and transfer'},{id:'D',text:'reflection'}], answer:'A', explanation:'Collaboration is not one of the three main integrative learning steps.'},
  {id:89, week:8, q:"In transformative learning, ___ includes a student's habit of the mind, as well as a personal point of view.", opts:[{id:'A',text:'intentional content'},{id:'B',text:'frame of reference'},{id:'C',text:'frame of context'},{id:'D',text:'none of the given'}], answer:'B', explanation:'Frame of reference includes habits of mind and viewpoints.'},

  // Week 9
  {id:90, week:9, q:"E-learning implies ___ learning", opts:[{id:'A',text:'mentor assisted'},{id:'B',text:'teacher enhanced'},{id:'C',text:'computer enhanced'},{id:'D',text:'electricity enhanced'}], answer:'C', explanation:'E-learning is computer-enhanced learning.'},
  {id:91, week:9, q:"___ type of e-learning is highly interactive, which includes graphics, video, audio and games too.", opts:[{id:'A',text:'text driven'},{id:'B',text:'simulation'},{id:'C',text:'interactive'},{id:'D',text:'none of the given'}], answer:'B', explanation:'Simulation e-learning is highly interactive with multimedia.'},
  {id:92, week:9, q:"Which of the following is not true about e-learning?", opts:[{id:'A',text:'one can have access to the content any number of times'},{id:'B',text:'it helps in developing new policies'},{id:'C',text:'it saves time for the students, they don\'t need to travel to the institution'},{id:'D',text:'it is targeted to cater to the needs of students specifically'}], answer:'D', explanation:'E-learning typically targets broad audiences, not individual needs.'},
  {id:93, week:9, q:"As learning depends on the learner's prior experience, and no two learners will have the same experiences, new information will be dealt with in different ways by different learners. This statement means that learning is ___.", opts:[{id:'A',text:'goal-oriented'},{id:'B',text:'dependent on self-awareness'},{id:'C',text:'social'},{id:'D',text:'idiosyncratic'}], answer:'D', explanation:'Idiosyncratic means unique to each individual learner.'},
  {id:94, week:9, q:"Which of the following is a way of facilitating the social dimension to learning?", opts:[{id:'A',text:'e-mails'},{id:'B',text:'online discussions'},{id:'C',text:'virtual communities'},{id:'D',text:'all of the given'}], answer:'D', explanation:'All these tools facilitate social learning online.'},
  {id:95, week:9, q:"We can say that when we're good at something after practice, it's usually because ___", opts:[{id:'A',text:'our brain has become automated'},{id:'B',text:'our brain has released better chemicals'},{id:'C',text:'our brain has made stronger connections with this information'},{id:'D',text:'our brain has prioritized this information over others'}], answer:'C', explanation:'Practice strengthens neural connections.'},
  {id:96, week:9, q:"Learners may multitask when engaging in an online course, which could be resulting in ___.", opts:[{id:'A',text:'hyperfocus'},{id:'B',text:'better retrieval'},{id:'C',text:'shorter attention spans'},{id:'D',text:'None of the given'}], answer:'C', explanation:'Multitasking can reduce attention spans.'},
  {id:97, week:9, q:"The cognitive load theory suggests that when we overload our___, we are unable to acquire and process new information.", opts:[{id:'A',text:'sensory memory'},{id:'B',text:'encoding'},{id:'C',text:'retrieval'},{id:'D',text:'working memory'}], answer:'D', explanation:'Working memory overload impairs learning.'},
  {id:98, week:9, q:"There are five critical aspects of psychology which are needed to guarantee the implementation of successful eLearning. Which of the following is not one of them?", opts:[{id:'A',text:'evolution'},{id:'B',text:'self-discipline'},{id:'C',text:'stress'},{id:'D',text:'emotion'}], answer:'A', explanation:'Evolution is not one of the five critical aspects.'},
  {id:99, week:9, q:"___ is a learning tool, because the explicit navigation of the topic and association types might enable meaningful learning and it helps to reduce the cognitive loads.", opts:[{id:'A',text:'topic map'},{id:'B',text:'schema'},{id:'C',text:'prototype'},{id:'D',text:'instructional map'}], answer:'A', explanation:'Topic maps help organize and reduce cognitive load.'},

  // Week 10
  {id:100, week:10, q:"The Readiness Model for New Normal in Education designed by many educational institutions caters to the following components except ___.", opts:[{id:'A',text:'parent readiness'},{id:'B',text:'learner readiness'},{id:'C',text:'society readiness'},{id:'D',text:'teacher readiness'}], answer:'C', explanation:'Society readiness is not part of the model.'},
  {id:101, week:10, q:"In 2018, Global Education and Skills Forum noted that the future teacher would need some skills to thrive in the 21st century. Which of the following is not one of them?", opts:[{id:'A',text:'Being a facilitator'},{id:'B',text:'Internal focus'},{id:'C',text:'Strong social skills'},{id:'D',text:'Data analysis'}], answer:'B', explanation:'Internal focus is not a key 21st century teaching skill.'},
  {id:102, week:10, q:"Which of the following impacts student learning?", opts:[{id:'A',text:'Their perception about their intelligence and ability'},{id:'B',text:'Prior knowledge'},{id:'C',text:'Their context'},{id:'D',text:'All of the given'}], answer:'D', explanation:'All these factors significantly impact learning.'},
  {id:103, week:10, q:"Which of the following statements is not true?", opts:[{id:'A',text:'Techniques linked to self-control contribute to more effective learning if taught and applied correctly'},{id:'B',text:'Student creativity can be encouraged'},{id:'C',text:'Clear, explanatory and timely feedback to students is important for learning'},{id:'D',text:'Students tend to enjoy learning and have better outcomes when their motivation is more extrinsic than intrinsic'}], answer:'D', explanation:'Intrinsic motivation leads to better outcomes than extrinsic.'},
  {id:104, week:10, q:"Both formative and summative assessment are important and useful, provided they are applied and interpreted appropriately.", opts:[{id:'A',text:'True'},{id:'B',text:'False'}], answer:'A', explanation:'Both assessment types are valuable when used properly.'},
  {id:105, week:10, q:"Individual differences are the unique ways each human being differs from another. It can be handled through using different techniques. Which of the following is not one of them?", opts:[{id:'A',text:'observation'},{id:'B',text:'sociograms'},{id:'C',text:'rating scales'},{id:'D',text:'ignorance'}], answer:'D', explanation:'Ignorance is not a technique for handling individual differences.'},
  {id:106, week:10, q:"Clapping is an example of ___ reward.", opts:[{id:'A',text:'tangible'},{id:'B',text:'financial'},{id:'C',text:'social'},{id:'D',text:'none of the given'}], answer:'C', explanation:'Clapping is a social reward or reinforcement.'},
  {id:107, week:10, q:"___ is the process of judging the value or worth of an individual's achievements or characteristics.", opts:[{id:'A',text:'Goal-setting'},{id:'B',text:'Classroom conduct'},{id:'C',text:'Formation'},{id:'D',text:'Evaluation'}], answer:'D', explanation:'Evaluation judges value and worth of achievements.'},
  {id:108, week:10, q:"___ refers to the frequent, interactive assessment of student progress to identify learning needs and shape teaching.", opts:[{id:'A',text:'Formative assessment'},{id:'B',text:'Summative assessment'},{id:'C',text:'Collective assessment'},{id:'D',text:'None of the given'}], answer:'A', explanation:'Formative assessment is frequent and shapes teaching.'},
  {id:109, week:10, q:"That is an intelligent response, well done is an example of a ___ level feedback.", opts:[{id:'A',text:'Task-level'},{id:'B',text:'Process-level'},{id:'C',text:'Facilitator-level'},{id:'D',text:'Personal-level'}], answer:'D', explanation:'This feedback addresses the person, not the task or process.'},

  // Week 11
  {id:110, week:11, q:"___ refers to a complex set of mental abilities underlying social stimulus perception, processing, interpretation, and response.", opts:[{id:'A',text:'social schema'},{id:'B',text:'emotional cognition'},{id:'C',text:'social cognition'},{id:'D',text:'emotional schema'}], answer:'C', explanation:'Social cognition involves processing social information.'},
  {id:111, week:11, q:"Piaget's conception of ___ views information inconsistent with an individual's cognitive structures as an initiator for assimilation and accommodation processes.", opts:[{id:'A',text:'assimilation and accommodation schema'},{id:'B',text:'cognitive determinism'},{id:'C',text:'reciprocal dynamism'},{id:'D',text:'cognitive conflict'}], answer:'D', explanation:'Cognitive conflict triggers assimilation and accommodation.'},
  {id:112, week:11, q:"During the earliest stages of development, children see the world from their own perspective and struggle to think about how other people may view the world. This highlights that initially, children are ___.", opts:[{id:'A',text:'egocentric'},{id:'B',text:'idiosyncratic'},{id:'C',text:'egoistic'},{id:'D',text:'egomaniac'}], answer:'A', explanation:'Young children are egocentric in their thinking.'},
  {id:113, week:11, q:"Which of the following is false regarding social cognition?", opts:[{id:'A',text:'It develops in childhood and adolescence'},{id:'B',text:'When looking at a social situation, any two people may have wildly different interpretations'},{id:'C',text:'It includes complex abilities like theory of mind'},{id:'D',text:'There are no cultural differences in social cognition'}], answer:'D', explanation:'Social cognition does vary across cultures.'},
  {id:114, week:11, q:"Social processes influence how information is selected, organized, integrated, and retrieved. This highlights the ___ hypothesis.", opts:[{id:'A',text:'social cue'},{id:'B',text:'cognitive influence'},{id:'C',text:'schema influence'},{id:'D',text:'social mediation'}], answer:'B', explanation:'Cognitive influence describes how social factors affect cognition.'},
  {id:115, week:11, q:"The social cognitive theory is developed by ___.", opts:[{id:'A',text:'Watson'},{id:'B',text:'Piaget'},{id:'C',text:'Bandura'},{id:'D',text:'Freud'}], answer:'C', explanation:'Bandura developed social cognitive theory.'},
  {id:116, week:11, q:"___ refers to the internal or external responses to a person's behavior that affect the likelihood of continuing or discontinuing the behavior.", opts:[{id:'A',text:'modeling'},{id:'B',text:'schemas'},{id:'C',text:'awards'},{id:'D',text:'reinforcements'}], answer:'D', explanation:'Reinforcements affect behavior likelihood.'},
  {id:117, week:11, q:"Observational learning occurs through the sequence of ___ number of processes. One of those is attentional processes.", opts:[{id:'A',text:'four'},{id:'B',text:'five'},{id:'C',text:'six'},{id:'D',text:'seven'}], answer:'A', explanation:'Observational learning involves four processes.'},
  {id:118, week:11, q:"The ___ model of observational learning involves an actual individual demonstrating or acting out a behavior.", opts:[{id:'A',text:'live'},{id:'B',text:'symbolic'},{id:'C',text:'verbal instructional'},{id:'D',text:'contextual'}], answer:'A', explanation:'Live modeling uses real individuals demonstrating behavior.'},
  {id:119, week:11, q:"___ suggests that our behavior, personal factors, and environmental factors all influence each other.", opts:[{id:'A',text:'environmental dynamism'},{id:'B',text:'reciprocal determinism'},{id:'C',text:'collective determinism'},{id:'D',text:'reciprocal dynamism'}], answer:'B', explanation:'Reciprocal determinism describes mutual influence of behavior, person, and environment.'}
];
    // --------- App State ---------
    const state = {
      mode: 'learning',
      week: 'all',
      pool: [],
      order: [],
      qPointer: 0,
      score: 0,
      started: false
    };

    // DOM
    const modeEl = document.getElementById('mode');
    const weekEl = document.getElementById('week');
    const startBtn = document.getElementById('startBtn');
    const quizArea = document.getElementById('quizArea');
    const content = document.getElementById('content');
    const nextBtn = document.getElementById('nextBtn');
    const progressBar = document.getElementById('progressBar');
    const scoreEl = document.getElementById('score');
    const totalEl = document.getElementById('total');
    const qIndex = document.getElementById('qIndex');
    const qTotal = document.getElementById('qTotal');
    const modeLabel = document.getElementById('modeLabel');
    const weekLabel = document.getElementById('weekLabel');
    const endArea = document.getElementById('endArea');
    const endTitle = document.getElementById('endTitle');
    const endScore = document.getElementById('endScore');
    const endBreakdown = document.getElementById('endBreakdown');
    const retryBtn = document.getElementById('retryBtn');
    const homeBtn = document.getElementById('homeBtn');
    const clearSave = document.getElementById('clearSave');

    // Populate week select dynamically from data
    (function populateWeeks(){
      const weeks = Array.from(new Set(questions.map(q=>q.week))).sort((a,b)=>a-b);
      for(const w of weeks){
        const opt = document.createElement('option'); opt.value = 'w'+w; opt.textContent = 'Week '+w; weekEl.appendChild(opt);
      }
    })();

    // Utility: shuffle array
    function shuffle(a){
      for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}
      return a;
    }

    // Start quiz
    startBtn.addEventListener('click', ()=>{
      state.mode = modeEl.value;
      state.week = weekEl.value;
      initPool();
      if(state.pool.length===0){alert('No questions in the selected week.');return}
      state.qPointer = 0; state.score = 0; state.started = true;
      if(state.mode==='test'){
        // randomize question order and options
        state.order = shuffle(state.pool.map(q=>q.id));
      } else {
        // learning: keep original order by id ascending
        state.order = state.pool.map(q=>q.id);
      }
      // for learning we keep options in original; for test we shuffle per question when rendering
      document.getElementById('modeLabel').textContent = state.mode[0].toUpperCase()+state.mode.slice(1);
      document.getElementById('weekLabel').textContent = state.week==='all'?'All Weeks':('Week '+state.week.replace('w',''));
      quizArea.style.display='block'; endArea.style.display='none';
      totalEl.textContent = state.order.length; qTotal.textContent = state.order.length;
      renderQuestion(); saveProgress();
    });

    // init pool based on week selection
    function initPool(){
      if(state.week==='all') state.pool = questions.slice();
      else {
        const wk = parseInt(state.week.replace('w',''));
        state.pool = questions.filter(q=>q.week===wk).slice();
      }
    }

    // render current question
    function renderQuestion(){
      const qId = state.order[state.qPointer];
      const qObj = questions.find(x=>x.id===qId);
      qIndex.textContent = (state.qPointer+1);
      qTotal.textContent = state.order.length;
      scoreEl.textContent = state.score;
      totalEl.textContent = state.order.length;
      // progress
      const pct = Math.round(((state.qPointer)/state.order.length)*100);
      progressBar.style.width = pct+'%';

      // build options (shuffle in test mode)
      let opts = qObj.opts.map(o=> ({...o}));
      if(state.mode==='test') opts = shuffle(opts);

      content.innerHTML = `
        <div class="question">${qObj.q}</div>
        <div class="options" id="opts"></div>
        <div class="muted" id="explain" style="margin-top:10px;display:none"></div>
      `;

      const optsEl = document.getElementById('opts');
      for(const o of opts){
        const btn = document.createElement('div');
        btn.className='opt'; btn.dataset.optid = o.id; btn.innerHTML = `<strong style="margin-right:8px">${o.id}.</strong> <span>${o.text}</span>`;
        btn.addEventListener('click', ()=> chooseOption(btn,qObj));
        optsEl.appendChild(btn);
      }

      nextBtn.disabled = true;
    }

    // when user picks an option
    function chooseOption(btn,qObj){
      if(btn.classList.contains('disabled')) return;
      // disable all for this question
      document.querySelectorAll('.opt').forEach(el=>el.classList.add('disabled'));
      const selected = btn.dataset.optid;
      // mark correct / wrong
      const optEls = document.querySelectorAll('.opt');
      optEls.forEach(el=>{
        if(el.dataset.optid === qObj.answer) el.classList.add('correct');
        if(el.dataset.optid === selected && selected !== qObj.answer) el.classList.add('wrong');
      });

      // if test mode, update score
      if(selected === qObj.answer){ state.score += 1; scoreEl.textContent = state.score; }

      // show explanation / correct answer
      const explain = document.getElementById('explain');
      explain.style.display = 'block';
      explain.innerHTML = `<strong>Answer:</strong> ${qObj.answer} — ${qObj.opts.find(o=>o.id===qObj.answer).text}<br><em>${qObj.explanation || ''}</em>`;

      nextBtn.disabled = false;
      saveProgress();
    }

    nextBtn.addEventListener('click', ()=>{
      state.qPointer += 1;
      if(state.qPointer >= state.order.length){
        finish();
      } else {
        renderQuestion();
      }
      saveProgress();
    });

    function finish(){
      quizArea.style.display='none'; endArea.style.display='block';
      endTitle.textContent = (state.mode==='test')? 'Test Completed' : 'Learning Completed';
      endScore.innerHTML = `<strong>${state.score}</strong> out of <strong>${state.order.length}</strong>`;
      endBreakdown.innerHTML = `Mode: <em>${state.mode}</em> • Week: <em>${state.week==='all'?'All Weeks':state.week.replace('w','Week ')}</em>`;
      // nice message
      if(state.mode==='test'){
        const pct = Math.round((state.score/state.order.length)*100);
        endBreakdown.innerHTML += `<br><br>Percentage: <strong>${pct}%</strong>`;
      }
      // reset saved progress
      localStorage.removeItem('quizState');
    }

    retryBtn.addEventListener('click', ()=>{
      // restart same config
      state.qPointer = 0; state.score = 0; quizArea.style.display='block'; endArea.style.display='none';
      if(state.mode==='test') state.order = shuffle(state.pool.map(q=>q.id));
      renderQuestion();
    });

    homeBtn.addEventListener('click', ()=>{
      endArea.style.display='none'; quizArea.style.display='none';
      // show controls (already visible) - user can start again
    });

    // Save / load progress to localStorage
    function saveProgress(){
      const payload = {mode: state.mode, week: state.week, order: state.order, qPointer: state.qPointer, score: state.score, poolIds: state.pool.map(p=>p.id)};
      localStorage.setItem('quizState', JSON.stringify(payload));
    }

    function loadProgress(){
      const raw = localStorage.getItem('quizState');
      if(!raw) return false;
      try{
        const p = JSON.parse(raw);
        // validate
        if(!p || !p.order) return false;
        state.mode = p.mode; state.week = p.week; state.order = p.order; state.qPointer = p.qPointer; state.score = p.score;
        // rebuild pool from ids
        state.pool = (p.poolIds || []).map(id=>questions.find(q=>q.id===id)).filter(Boolean);
        // set controls accordingly
        modeEl.value = state.mode; weekEl.value = state.week;
        document.getElementById('modeLabel').textContent = state.mode[0].toUpperCase()+state.mode.slice(1);
        document.getElementById('weekLabel').textContent = state.week==='all'?'All Weeks':('Week '+state.week.replace('w',''));
        quizArea.style.display='block'; endArea.style.display='none';
        totalEl.textContent = state.order.length; qTotal.textContent = state.order.length;
        renderQuestion();
        return true;
      }catch(e){console.warn('load failed',e);return false}
    }

    // clear saved
    clearSave.addEventListener('click', ()=>{ localStorage.removeItem('quizState'); alert('Saved progress cleared.'); });

    // try load on start
    window.addEventListener('load', ()=>{ if(loadProgress()){console.log('Progress loaded')} });

  </script>
</body>
</html>